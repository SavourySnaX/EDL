#include <stdio.h>
#include <stdint.h>

void PinSetINPUTS(uint8_t);
void PinSetSTROBE(uint8_t);
uint16_t PinGetOUTPUTS(); 

unsigned short Results[4*16] =
{
	0xFFFE,0xFFFD,0xFFFB,0xFFF7,
	0xFFEF,0xFFDF,0xFFBF,0xFF7F,
	0xFEFF,0xFDFF,0xFBFF,0xF7FF,
	0xEFFF,0xDFFF,0xBFFF,0x7FFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF,
	0xFFFF,0xFFFF,0xFFFF,0xFFFF
};

int main(int argc,char** argv)
{
	int a,b,c;
	for (c=0;c<4;c++)
	{
		PinSetSTROBE(c);
		for (a=0;a<16;a++)
		{
			PinSetINPUTS(a);

			if (PinGetOUTPUTS() != Results[c*16+a])
			{
				printf("Test failed on Strobe %d Inputs %d\n",c,a);
				return 1;
			}
			for (b=0;b<16;b++)
			{
				printf("%s ",((1<<b) & PinGetOUTPUTS()) ? "H" : "L");
			}
			printf("\n");
		}
	}

	return 0;
}
